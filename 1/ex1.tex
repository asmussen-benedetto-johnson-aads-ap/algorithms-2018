\section{Exercise 1: $b$-flow}

\begin{figure*}
  \begin{minipage}{0.5\textwidth}
    \begin{center}
      \begin{tikzcd}
        v_1 \; (3) \arrow[dd, "4"'] \arrow[rddd, swap, "6", bend right=80] &  & v_2 \; (-2) \arrow[ll, "5"'] \arrow[dd, "2"] \arrow[lddd, swap, "3"', bend left=80] \\
        &  &  \\
        v_3 \; (4) \arrow[rruu, pos=0.7, "4"] \arrow[rd, "7"] &  & v_4 \; (2) \arrow[lluu, pos=0.7, "1"] \arrow[ld, "2"'] \\
        & v_5 \; (-7) & 
      \end{tikzcd}

      \vspace{1em}

      \textbf{(a)}
    \end{center}
  \end{minipage}
  \begin{minipage}{0.5\textwidth}
    \begin{center}
      \begin{tikzcd}
        v_1 \; (3) \arrow[d, "4"'] & v_2 \; (1) \arrow[d, "6"] \arrow[l, "3"'] \\
        v_3 \; (-2) \arrow[r, "3"'] \arrow[ru, "2"'] & v_4 \; (-2)
      \end{tikzcd}
      
      \vspace{1em}

      \textbf{(b)}
    \end{center}
  \end{minipage}
  \label{fig:b-flow}
  \caption{Graphs with capacities and demands, taken from assignment set.}
\end{figure*}

Graph \textbf{(a)} (see Figure~\ref{fig:b-flow})  has a $b$-flow as follows: let $x_{nm}$ be the flow between $v_n$ and $v_m$
\begingroup
\newcommand\edgeval[4]{x_{#1 #2} &= #4 \le u_{#1 #2} = #3}
\begin{align*}
  \edgeval 1 3 4 0 \\
  \edgeval 1 4 1 0 \\
  \edgeval 2 1 5 0 \\
  \edgeval 2 4 2 2 \\
  \edgeval 2 5 3 0 \\
  \edgeval 3 2 4 0 \\
  \edgeval 3 4 3 0 \\
  \edgeval 4 5 2 0 \\
  \edgeval 5 1 6 3 \\
  \edgeval 5 3 7 4
\end{align*}
\endgroup
Listing only edges of non-zero flow, we see that the constraints are met:
\begin{align*}
  b_1 &= 3 = x_{51} \\
  b_2 &= -2 = -x_{24} \\
  b_3 &= 4 = x_{53} \\
  b_4 &= 2 = x_{24} \\
  b_5 &= -7 = -(x_{51} + x_{53})
\end{align*}

Graph \textbf{(b)} has no $b$-flow since node $v_4$ has a ``supply'' of $2$ (i.e. ``demand'' of $-2$), but 
no edges leading away from it, making it impossible to meet the demand constraint.
